/**
* SoundJS
* Visit http://createjs.com/ for documentation, updates and examples.
*
* Copyright (c) 2012 gskinner.com, inc.
*
* Permission is hereby granted, free of charge, to any person
* obtaining a copy of this software and associated documentation
* files (the "Software"), to deal in the Software without
* restriction, including without limitation the rights to use,
* copy, modify, merge, publish, distribute, sublicense, and/or sell
* copies of the Software, and to permit persons to whom the
* Software is furnished to do so, subject to the following
* conditions:
* 
* The above copyright notice and this permission notice shall be
* included in all copies or substantial portions of the Software.
* 
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
* EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
* OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
* NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
* HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
* WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
* FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
* OTHER DEALINGS IN THE SOFTWARE.
**/

/**
 * SoundJS FlashPlugin also includes swfobject (http://code.google.com/p/swfobject/)
 */var swfobject=function(){function f(){if(!z){try{var c=b.getElementsByTagName("body")[0].appendChild(b.createElement("span"));c.parentNode.removeChild(c)}catch(l){return}z=!0;for(var c=H.length,a=0;a<c;a++)H[a]()}}function w(c){z?c():H[H.length]=c}function B(c){if(typeof r.addEventListener!=m)r.addEventListener("load",c,!1);else if(typeof b.addEventListener!=m)b.addEventListener("load",c,!1);else if(typeof r.attachEvent!=m){var l=r;l.attachEvent("onload",c);C[C.length]=[l,"onload",c]}else if("function"==
typeof r.onload){var a=r.onload;r.onload=function(){a();c()}}else r.onload=c}function a(){var c=v.length;if(0<c)for(var a=0;a<c;a++){var e=v[a].id,h=v[a].callbackFn,k={success:!1,id:e};if(0<d.pv[0]){var b=t(e);if(b)if(I(v[a].swfVersion)&&!(d.wk&&312>d.wk))A(e,!0),h&&(k.success=!0,k.ref=j(e),h(k));else if(v[a].expressInstall&&g()){k={};k.data=v[a].expressInstall;k.width=b.getAttribute("width")||"0";k.height=b.getAttribute("height")||"0";b.getAttribute("class")&&(k.styleclass=b.getAttribute("class"));
b.getAttribute("align")&&(k.align=b.getAttribute("align"));for(var S={},b=b.getElementsByTagName("param"),f=b.length,n=0;n<f;n++)"movie"!=b[n].getAttribute("name").toLowerCase()&&(S[b[n].getAttribute("name")]=b[n].getAttribute("value"));N(k,S,e,h)}else s(b),h&&h(k)}else if(A(e,!0),h){if((e=j(e))&&typeof e.SetVariable!=m)k.success=!0,k.ref=e;h(k)}}}function j(c){var a=null;if((c=t(c))&&"OBJECT"==c.nodeName)typeof c.SetVariable!=m?a=c:(c=c.getElementsByTagName(x)[0])&&(a=c);return a}function g(){return!J&&
I("6.0.65")&&(d.win||d.mac)&&!(d.wk&&312>d.wk)}function N(c,a,e,h){J=!0;O=h||null;T={success:!1,id:e};var k=t(e);if(k){"OBJECT"==k.nodeName?(F=p(k),K=null):(F=k,K=e);c.id=U;if(typeof c.width==m||!/%$/.test(c.width)&&310>parseInt(c.width,10))c.width="310";if(typeof c.height==m||!/%$/.test(c.height)&&137>parseInt(c.height,10))c.height="137";b.title=b.title.slice(0,47)+" - Flash Player Installation";h=d.ie&&d.win?"ActiveX":"PlugIn";h="MMredirectURL="+encodeURI(window.location).toString().replace(/&/g,
"%26")+"&MMplayerType="+h+"&MMdoctitle="+b.title;a.flashvars=typeof a.flashvars!=m?a.flashvars+("&"+h):h;d.ie&&(d.win&&4!=k.readyState)&&(h=b.createElement("div"),e+="SWFObjectNew",h.setAttribute("id",e),k.parentNode.insertBefore(h,k),k.style.display="none",function(){4==k.readyState?k.parentNode.removeChild(k):setTimeout(arguments.callee,10)}());P(c,a,e)}}function s(c){if(d.ie&&d.win&&4!=c.readyState){var a=b.createElement("div");c.parentNode.insertBefore(a,c);a.parentNode.replaceChild(p(c),a);c.style.display=
"none";(function(){4==c.readyState?c.parentNode.removeChild(c):setTimeout(arguments.callee,10)})()}else c.parentNode.replaceChild(p(c),c)}function p(c){var a=b.createElement("div");if(d.win&&d.ie)a.innerHTML=c.innerHTML;else if(c=c.getElementsByTagName(x)[0])if(c=c.childNodes)for(var e=c.length,h=0;h<e;h++)!(1==c[h].nodeType&&"PARAM"==c[h].nodeName)&&8!=c[h].nodeType&&a.appendChild(c[h].cloneNode(!0));return a}function P(c,a,e){var h,k=t(e);if(d.wk&&312>d.wk)return h;if(k)if(typeof c.id==m&&(c.id=
e),d.ie&&d.win){var j="",g;for(g in c)c[g]!=Object.prototype[g]&&("data"==g.toLowerCase()?a.movie=c[g]:"styleclass"==g.toLowerCase()?j+=' class="'+c[g]+'"':"classid"!=g.toLowerCase()&&(j+=" "+g+'="'+c[g]+'"'));g="";for(var f in a)a[f]!=Object.prototype[f]&&(g+='<param name="'+f+'" value="'+a[f]+'" />');k.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+j+">"+g+"</object>";L[L.length]=c.id;h=t(c.id)}else{f=b.createElement(x);f.setAttribute("type",M);for(var n in c)c[n]!=Object.prototype[n]&&
("styleclass"==n.toLowerCase()?f.setAttribute("class",c[n]):"classid"!=n.toLowerCase()&&f.setAttribute(n,c[n]));for(j in a)a[j]!=Object.prototype[j]&&"movie"!=j.toLowerCase()&&(c=f,g=j,n=a[j],e=b.createElement("param"),e.setAttribute("name",g),e.setAttribute("value",n),c.appendChild(e));k.parentNode.replaceChild(f,k);h=f}return h}function V(c){var a=t(c);a&&"OBJECT"==a.nodeName&&(d.ie&&d.win?(a.style.display="none",function(){if(4==a.readyState){var e=t(c);if(e){for(var h in e)"function"==typeof e[h]&&
(e[h]=null);e.parentNode.removeChild(e)}}else setTimeout(arguments.callee,10)}()):a.parentNode.removeChild(a))}function t(a){var l=null;try{l=b.getElementById(a)}catch(e){}return l}function I(a){var l=d.pv;a=a.split(".");a[0]=parseInt(a[0],10);a[1]=parseInt(a[1],10)||0;a[2]=parseInt(a[2],10)||0;return l[0]>a[0]||l[0]==a[0]&&l[1]>a[1]||l[0]==a[0]&&l[1]==a[1]&&l[2]>=a[2]?!0:!1}function W(a,l,e,h){if(!d.ie||!d.mac){var k=b.getElementsByTagName("head")[0];if(k){e=e&&"string"==typeof e?e:"screen";h&&(Q=
u=null);if(!u||Q!=e)h=b.createElement("style"),h.setAttribute("type","text/css"),h.setAttribute("media",e),u=k.appendChild(h),d.ie&&(d.win&&typeof b.styleSheets!=m&&0<b.styleSheets.length)&&(u=b.styleSheets[b.styleSheets.length-1]),Q=e;d.ie&&d.win?u&&typeof u.addRule==x&&u.addRule(a,l):u&&typeof b.createTextNode!=m&&u.appendChild(b.createTextNode(a+" {"+l+"}"))}}}function A(a,l){if(X){var e=l?"visible":"hidden";z&&t(a)?t(a).style.visibility=e:W("#"+a,"visibility:"+e)}}function Y(a){return null!=/[\\\"<>\.;]/.exec(a)&&
typeof encodeURIComponent!=m?encodeURIComponent(a):a}var m="undefined",x="object",M="application/x-shockwave-flash",U="SWFObjectExprInst",r=window,b=document,y=navigator,Z=!1,H=[function(){if(Z){var c=b.getElementsByTagName("body")[0],l=b.createElement(x);l.setAttribute("type",M);var e=c.appendChild(l);if(e){var h=0;(function(){if(typeof e.GetVariable!=m){var b=e.GetVariable("$version");b&&(b=b.split(" ")[1].split(","),d.pv=[parseInt(b[0],10),parseInt(b[1],10),parseInt(b[2],10)])}else if(10>h){h++;
setTimeout(arguments.callee,10);return}c.removeChild(l);e=null;a()})()}else a()}else a()}],v=[],L=[],C=[],F,K,O,T,z=!1,J=!1,u,Q,X=!0,d,aa=typeof b.getElementById!=m&&typeof b.getElementsByTagName!=m&&typeof b.createElement!=m,D=y.userAgent.toLowerCase(),E=y.platform.toLowerCase(),ba=E?/win/.test(E):/win/.test(D),E=E?/mac/.test(E):/mac/.test(D),D=/webkit/.test(D)?parseFloat(D.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,R=!+"\v1",G=[0,0,0],q=null;if(typeof y.plugins!=m&&typeof y.plugins["Shockwave Flash"]==
x){if((q=y.plugins["Shockwave Flash"].description)&&!(typeof y.mimeTypes!=m&&y.mimeTypes[M]&&!y.mimeTypes[M].enabledPlugin))Z=!0,R=!1,q=q.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),G[0]=parseInt(q.replace(/^(.*)\..*$/,"$1"),10),G[1]=parseInt(q.replace(/^.*\.(.*)\s.*$/,"$1"),10),G[2]=/[a-zA-Z]/.test(q)?parseInt(q.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0}else if(typeof r.ActiveXObject!=m)try{var $=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if($&&(q=$.GetVariable("$version")))R=!0,q=q.split(" ")[1].split(","),
G=[parseInt(q[0],10),parseInt(q[1],10),parseInt(q[2],10)]}catch(ca){}d={w3:aa,pv:G,wk:D,ie:R,win:ba,mac:E};d.w3&&((typeof b.readyState!=m&&"complete"==b.readyState||typeof b.readyState==m&&(b.getElementsByTagName("body")[0]||b.body))&&f(),z||(typeof b.addEventListener!=m&&b.addEventListener("DOMContentLoaded",f,!1),d.ie&&d.win&&(b.attachEvent("onreadystatechange",function(){"complete"==b.readyState&&(b.detachEvent("onreadystatechange",arguments.callee),f())}),r==top&&function(){if(!z){try{b.documentElement.doScroll("left")}catch(a){setTimeout(arguments.callee,
0);return}f()}}()),d.wk&&function(){z||(/loaded|complete/.test(b.readyState)?f():setTimeout(arguments.callee,0))}(),B(f)));d.ie&&d.win&&window.attachEvent("onunload",function(){for(var a=C.length,l=0;l<a;l++)C[l][0].detachEvent(C[l][1],C[l][2]);a=L.length;for(l=0;l<a;l++)V(L[l]);for(var e in d)d[e]=null;d=null;for(var b in swfobject)swfobject[b]=null;swfobject=null});return{registerObject:function(a,b,e,h){if(d.w3&&a&&b){var g={};g.id=a;g.swfVersion=b;g.expressInstall=e;g.callbackFn=h;v[v.length]=
g;A(a,!1)}else h&&h({success:!1,id:a})},getObjectById:function(a){if(d.w3)return j(a)},embedSWF:function(a,b,e,h,j,f,q,s,n,r){var t={success:!1,id:b};d.w3&&!(d.wk&&312>d.wk)&&a&&b&&e&&h&&j?(A(b,!1),w(function(){e+="";h+="";var d={};if(n&&typeof n===x)for(var p in n)d[p]=n[p];d.data=a;d.width=e;d.height=h;p={};if(s&&typeof s===x)for(var u in s)p[u]=s[u];if(q&&typeof q===x)for(var v in q)p.flashvars=typeof p.flashvars!=m?p.flashvars+("&"+v+"="+q[v]):v+"="+q[v];if(I(j))u=P(d,p,b),d.id==b&&A(b,!0),t.success=
!0,t.ref=u;else{if(f&&g()){d.data=f;N(d,p,b,r);return}A(b,!0)}r&&r(t)})):r&&r(t)},switchOffAutoHideShow:function(){X=!1},ua:d,getFlashPlayerVersion:function(){return{major:d.pv[0],minor:d.pv[1],release:d.pv[2]}},hasFlashPlayerVersion:I,createSWF:function(a,b,e){if(d.w3)return P(a,b,e)},showExpressInstall:function(a,b,e,h){d.w3&&g()&&N(a,b,e,h)},removeSWF:function(a){d.w3&&V(a)},createCSS:function(a,b,e,g){d.w3&&W(a,b,e,g)},addDomLoadEvent:w,addLoadEvent:B,getQueryParamValue:function(a){var d=b.location.search||
b.location.hash;if(d){/\?/.test(d)&&(d=d.split("?")[1]);if(null==a)return Y(d);for(var d=d.split("&"),e=0;e<d.length;e++)if(d[e].substring(0,d[e].indexOf("="))==a)return Y(d[e].substring(d[e].indexOf("=")+1))}return""},expressInstallCallback:function(){if(J){var a=t(U);a&&F&&(a.parentNode.replaceChild(F,a),K&&(A(K,!0),d.ie&&d.win&&(F.style.display="block")),O&&O(T));J=!1}}}}();this.createjs=this.createjs||{};
(function(){function f(){this.init()}function w(a,j,g){this.init(a,j,g)}function B(a,j,g){this.init(a,j,g)}f.capabilities=null;f.BASE_PATH="src/SoundJS/";f.isSupported=function(){if(createjs.Sound.BrowserDetect.isIOS)return!1;f.generateCapabilities();return null==swfobject?!1:swfobject.hasFlashPlayerVersion("9.0.0")};f.generateCapabilities=function(){null==f.capabilities&&(f.capabilities={panning:!0,volume:!0,tracks:-1,mp3:!0,ogg:!1,mpeg:!0,wav:!0,m4a:!0,mp4:!0,aiff:!1,wma:!1,mid:!1})};f.prototype=
{audioSources:null,volume:1,CONTAINER_ID:"flashAudioContainer",capabilities:null,container:null,flash:null,flashReady:!1,flashInstances:null,flashPreloadInstances:null,preloadInstances:null,queuedInstances:null,showOutput:!1,init:function(){this.capabilities=f.capabilities;this.audioSources={};this.flashInstances={};this.flashPreloadInstances={};this.preloadInstances={};this.queuedInstances=[];var a=this.container=document.createElement("div");a.id=this.CONTAINER_ID;a.appendChild(document.createTextNode("Default Content Here"));
document.body.appendChild(a);swfobject.embedSWF(f.BASE_PATH+"FlashAudioPlugin.swf",this.CONTAINER_ID,"1","1","9.0.0",null,null,null,null,createjs.proxy(this.handleSWFReady,this))},handleSWFReady:function(a){this.flash=a.ref;this.loadTimeout=setTimeout(createjs.proxy(this.handleTimeout,this),2E3)},handleFlashReady:function(){this.flashReady=!0;for(var a=0,j=this.queuedInstances.length;a<j;a++)this.flash.register(this.queuedInstances[a]);this.queuedInstances=null;for(var g in this.flashPreloadInstances)this.flashPreloadInstances[g].initialize(this.flash);
for(g in this.preloadInstances)this.preloadInstances[g].initialize(this.flash);this.preloadInstances=null;for(g in this.flashInstances)this.flashInstances[g].initialize(this.flash)},handleTimeout:function(){},register:function(a){this.audioSources[a]=!0;this.flashReady?this.flash.register(a):this.queuedInstances.push(a);return{tag:new B(a,this,this.flash)}},create:function(a){this.isPreloadStarted(a)||this.preload(a);try{return new w(a,this,this.flash)}catch(j){}return null},isPreloadStarted:function(a){return null!=
this.audioSources[a]},preload:function(a){this.audioSources[a]=!0;(new B(a,this,this.flash)).load()},setVolume:function(a){this.volume=a;return this.updateVolume()},updateVolume:function(){return this.flash.setMasterVolume(createjs.Sound.masterMute?0:this.volume)},getVolume:function(){return this.volume},setMute:function(){return this.updateVolume()},registerPreloadInstance:function(a,j){this.flashPreloadInstances[a]=j},unregisterPreloadInstance:function(a){delete this.flashPreloadInstances[a]},registerSoundInstance:function(a,
j){this.flashInstances[a]=j},unregisterSoundInstance:function(a){delete this.flashInstances[a]},flashLog:function(a){try{this.showOutput&&console.log(a)}catch(j){}},handleSoundEvent:function(a,j){var g=this.flashInstances[a];if(null!=g){for(var f=[],s=2,p=arguments.length;s<p;s++)f.push(arguments[s]);try{if(0==f.length)g[j]();else g[j].apply(g,f)}catch(w){}}},handlePreloadEvent:function(a,j){var g=this.flashPreloadInstances[a];if(null!=g){for(var f=[],s=2,p=arguments.length;s<p;s++)f.push(arguments[s]);
try{if(0==f.length)g[j]();else g[j].apply(g,f)}catch(w){}}},handleEvent:function(a){switch(a){case "ready":clearTimeout(this.loadTimeout),this.handleFlashReady()}},handleErrorEvent:function(){},toString:function(){return"[FlashPlugin]"}};createjs.FlashPlugin=f;w.prototype={src:null,uniqueId:-1,owner:null,capabilities:null,flash:null,flashId:null,loop:0,volume:1,pan:0,offset:0,duration:0,delayTimeoutId:null,muted:!1,paused:!1,addEventListener:null,removeEventListener:null,removeAllEventListeners:null,
dispatchEvent:null,hasEventListener:null,_listeners:null,onComplete:null,onLoop:null,onReady:null,onPlayFailed:null,onPlayInterrupted:null,onPlaySucceeded:null,init:function(a,f,g){this.src=a;this.owner=f;this.flash=g},initialize:function(a){this.flash=a},interrupt:function(){this.playState=createjs.Sound.PLAY_INTERRUPTED;if(null!=this.onPlayInterrupted)this.onPlayInterrupted(this);this.flash.interrupt(this.flashId);this.sendEvent("interrupted");this.cleanUp();this.paused=!1},cleanUp:function(){clearTimeout(this.delayTimeoutId);
this.owner.unregisterSoundInstance(this.flashId);createjs.Sound.playFinished(this)},play:function(a,f,g,w,s,p){createjs.Sound.playInstance(this,a,f,g,w,s,p)},beginPlaying:function(a,f,g,w){this.loop=f;this.paused=!1;if(!this.owner.flashReady)return!1;this.offset=a;this.flashId=this.flash.playSound(this.src,a,f,g,w);if(null==this.flashId){if(null!=this.onPlayFailed)this.onPlayFailed(this);this.cleanUp();return!1}this.muted&&this.setMute(!0);this.playState=createjs.Sound.PLAY_SUCCEEDED;this.owner.registerSoundInstance(this.flashId,
this);this.onPlaySucceeded&&this.onPlaySucceeded(this);this.sendEvent("succeeded");return!0},playFailed:function(){this.playState=createjs.Sound.PLAY_FAILED;if(null!=this.onPlayFailed)this.onPlayFailed(this);this.sendEvent("failed");this.cleanUp()},pause:function(){return!this.paused&&this.playState==createjs.Sound.PLAY_SUCCEEDED?(this.paused=!0,clearTimeout(this.delayTimeoutId),this.flash.pauseSound(this.flashId)):!1},resume:function(){if(!this.paused)return!1;this.paused=!1;return this.flash.resumeSound(this.flashId)},
stop:function(){this.playState=createjs.Sound.PLAY_FINISHED;this.paused=!1;this.offset=0;var a=this.flash.stopSound(this.flashId);this.cleanUp();return a},setVolume:function(a){if(null==Number(a))return!1;this.volume=a=Math.max(0,Math.min(1,a));return this.flash.setVolume(this.flashId,a)},getVolume:function(){return this.volume},mute:function(a){return(this.muted=a)?this.flash.muteSound(this.flashId):this.flash.unmuteSound(this.flashId)},setMute:function(a){return(this.muted=a)?this.flash.muteSound(this.flashId):
this.flash.unmuteSound(this.flashId)},getMute:function(){return this.muted},getPan:function(){return this.pan},setPan:function(a){this.pan=a;return this.flash.setPan(this.flashId,a)},getPosition:function(){var a=-1;this.flash&&this.flashId&&(a=this.flash.getPosition(this.flashId));-1!=a&&(this.offset=a);return this.offset},setPosition:function(a){this.offset=a;this.flash&&this.flashId&&this.flash.setPosition(this.flashId,a);return!0},getDuration:function(){var a=-1;this.flash&&this.flashId&&(a=this.flash.getDuration(this.flashId));
-1!=a&&(this.duration=a);return this.duration},sendEvent:function(a){this.dispatchEvent({target:this,type:a})},handleSoundFinished:function(){this.playState=createjs.Sound.PLAY_FINISHED;if(null!=this.onComplete)this.onComplete(this);this.sendEvent("complete");this.cleanUp()},handleSoundLoop:function(){if(null!=this.onLoop)this.onLoop(this);this.sendEvent("loop")},toString:function(){return"[FlashPlugin SoundInstance]"}};createjs.EventDispatcher.initialize(w.prototype);B.prototype={flash:null,src:null,
flashId:null,progress:-1,readyState:0,loading:!1,owner:null,onload:null,onprogress:null,onerror:null,init:function(a,f,g){this.src=a;this.owner=f;this.flash=g},initialize:function(a){this.flash=a;this.loading&&(this.loading=!1,this.load(this.src))},load:function(a){null!=a&&(this.src=a);if(null==this.flash||!this.owner.flashReady)return this.loading=!0,this.owner.preloadInstances[this.src]=this,!1;this.flashId=this.flash.preload(this.src);this.owner.registerPreloadInstance(this.flashId,this);return!0},
handleProgress:function(a,f){this.progress=a/f;this.onprogress&&this.onprogress({loaded:a,total:f,progress:this.progress})},handleComplete:function(){this.progress=1;this.readyState=4;createjs.Sound.sendLoadComplete(this.src);this.onload&&this.onload()},handleError:function(a){this.onerror&&this.onerror(a)},toString:function(){return"[FlashPlugin SoundLoader]"}}})();(function(){var f=this.createjs=this.createjs||{},f=f.FlashPlugin=f.FlashPlugin||{};f.version="NEXT";f.buildDate="Fri, 11 Jan 2013 22:39:59 GMT"})();
